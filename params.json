{"name":"Manual de instalação do CAU","tagline":"","body":"##1 - Licença deste Documento\r\n\r\nPara a utilização deste documento é necessário seguir as regras da licença Creative Commons pela mesma Licença 2.5 Brasil.\r\n\r\nVocê tem a liberdade de:\r\n\r\n![](https://raw.github.com/gabrielamayoli/CAU/master/imagens/1.png) &nbsp;<b>Compartilhar</b> — copiar, distribuir e transmitir a obra.\r\n\r\n![](https://raw.github.com/gabrielamayoli/CAU/master/imagens/2.png) &nbsp;<b>Remixar</b> — criar obras derivadas.\r\n\r\nSob as seguintes condições:\r\n\r\n![](https://raw.github.com/gabrielamayoli/CAU/master/imagens/3.png) &nbsp;<b>Atribuição</b> — Você deve creditar a obra da forma especificada pelo autor ou licenciante (mas não de maneira que sugira que estes concedem qualquer aval a você ou ao seu uso da obra).\r\n\r\n![](https://raw.github.com/gabrielamayoli/CAU/master/imagens/4.png) &nbsp;<b>Compartilhamento pela mesma licença</b> — Se você alterar, transformar ou criar em cima desta obra, você poderá distribuir a obra resultante apenas sob a mesma licença, ou sob uma licença similar à presente.\r\n\r\nFicando claro que: <b>Renúncia</b> — Qualquer das condições acima pode ser [renunciada](http://creativecommons.org/licenses/by-nc-sa/2.5/br/deed.pt_BR#) se você obtiver permissão do titular dos direitos autorais. \r\n<b>Domínio Público</b> — Onde a obra ou qualquer de seus elementos estiver em [domínio público](http://wiki.creativecommons.org/Public_domain) sob o direito aplicável, esta condição não é, de maneira alguma, afetada pela licença. \r\n<b>Outros Direitos</b> — Os seguintes direitos não são, de maneira alguma, afetados pela licença: \r\nLimitações e exceções aos direitos autorais ou quaisquer [usos livres](http://wiki.creativecommons.org/Frequently_Asked_Questions#Do_Creative_Commons_licenses_affect_fair_use.2C_fair_dealing_or_other_exceptions_to_copyright.3F) aplicáveis; \r\nOs [direitos morais](http://wiki.creativecommons.org/Frequently_Asked_Questions#I_don.E2.80.99t_like_the_way_a_person_has_used_my_work_in_a_derivative_work_or_included_it_in_a_collective_work.3B_what_can_I_do.3F) do autor; \r\nDireitos que outras pessoas podem ter sobre a obra ou sobre a utilização da obra, tais como [direitos de imagem](http://wiki.creativecommons.org/Frequently_Asked_Questions#When_are_publicity_rights_relevant.3F) ou privacidade. \r\n<b>Aviso</b> — Para qualquer reutilização ou distribuição, você deve deixar claro a terceiros os termos da licença a que se encontra submetida esta obra. A melhor maneira de fazer isso é com um link para esta página. \r\n\r\n\r\n##2 - Introdução ao Sistema CAU\r\n\r\nA instalação do Sistema CAU é um processo bastante simples. O sistema possui duas interfaces de interação: cau e gestaoti. A interface cau é destinada a abertura e acompanhamento de chamados pelos usuários demandantes, já a interface gestaoti é destinada ao atendimento e gerenciamento das demandas e todas as atividades de configuração do sistema. Por este motivo, neste manual várias vezes nos referimos ao termo <b>gestaoti</b> ao invés do nome do sistema – <b>cau</b>. Neste manual utilizaremos o termo <b>sisgestaoti</b> para referenciar a raiz da aplicação, caso queira você pode utilizar outro. \r\n\r\n##2.1 - Características e principais funcionalidades\r\n\r\nO código fonte (que é livre e aberto) está disponível para ser baixado livremente no Portal do SPB e sua implementação é em PHP, tendo como camada de armazenamento o sistema gerenciador de banco de dados PostgreSQL. \r\n\r\nO sistema possui várias funcionalidades entre as quais destacam-se: \r\n\r\n * <b>Gestão de Ativos de TI</b>\r\n  * Sistemas de Informação;\r\n  * Servidores;\r\n  * Patrimônio;\r\n  * Análise de impacto (Gestão de Configuração);\r\n * <b>Gestão de Profissionais de TI e Clientes</b>\r\n  * Cadastro dos profissionais de TI;\r\n  * Cadastro de equipes;\r\n  * Time sheet;\r\n  * Cadastro dos clientes;\r\n * <b>Gestão de Chamados a TI</b>\r\n   * Gestão de requisições de serviço;\r\n   * Gestão de incidentes;\r\n   * Gestão de problemas;\r\n   * Gestão de níveis de serviços;\r\n * <b>Gestão de Mudanças</b>\r\n   * Relatórios de Apoio a Decisão;\r\n\r\n##3 - Instalação do Sistema\r\n\r\n##3.1 - Requisitos gerais para instalação\r\n\r\nSugerimos que este guia seja executado por um usuário com experiência em configuração básica de Apache, PHP e PostgreSQL.<br>\r\nEste roteiro está baseado no Sistema Operacional GNU/Linux Debian Lenny.<br>\r\nEste manual pressupõe que o servidor de aplicação Web e o banco de dados estarão instalados no mesmo servidor.\r\n\r\n##3.2 - Pré-requisitos de Software\r\n\r\nOs requisitos mínimos de software para a correta instalação do Sistema CAU são:\r\n * PHP 5.x\r\n      * php5-gd\r\n      * php5-pgsql\r\n * Servidor Web Apache \r\n * PostgreSQL 8.3 ou superior\r\n \r\n##4 - Passo-a-passo da Instalação no Sistema Operacional Linux\r\n\r\n##4.1 - Instalando Apache, PHP5 e PostgreSQL\r\n\r\n\t$ apt-get install apache2\r\n\t$ apt-get install postgresql-8.4\r\n\t$ apt-get install php5 libapache2-mod-php5 php5-gd php5-pgsql\r\n \r\n##4.2 - Download do software\r\n\r\nFaça o download dos arquivos do sistema antes de prosseguir. A versão atual, [1.0](http://www.softwarepublico.gov.br/dotlrn/clubs/ieducar/file-storage/index?folder_id=18853558), está disponível em pacotes ZIP e GZip. Descompacte o pacote de sua preferência no diretório raiz do seu servidor web Apache (no Debian, geralmente o diretório raiz é <i>/var/www</i>). \r\n\r\n\t$ cd /var/www\r\n\t$ unzip /caminho/cau-1.0.zip\r\n\t$ mv cau-1.0  sisgestaoti\r\n\t\r\n##4.3 - Criação do Banco de Dados\r\n\r\nCrie o banco de dados ao qual o CAU usará para armazenar todos os dados digitados através da interface web. Os passos descritos nessa seção irão criar:\r\n   \r\n   * Um usuário <b>gestaoti</b> no servidor PostgreSQL com a senha de acesso <b>'gestaoti'</b>; \r\n   * Um banco de dados <b>gestaoti</b>.\r\n   \r\n<b>Observação:</b> você pode usar o nome de usuário, banco de dados e senha que desejar. Esses são apenas nomes padrões que a aplicação usa para conectar-se ao banco. \r\nFaça login no servidor de banco de dados PostgreSQL com o cliente <i>psql</i>: \r\n\r\n\t$ su\r\n\t# su - postgres\r\n\t# psql\r\n\t\r\nAlternativamente, com o sudo: \r\n\r\n\t$ sudo -u postgres psql\r\n\r\nCrie o usuário de banco de dados que será utilizado pelo CAU: \r\n\r\n\tpostgres=# CREATE ROLE gestaoti;\r\n\tpostgres=# ALTER ROLE gestaoti WITH SUPERUSER INHERIT NOCREATEROLE \t\tCREATEDB LOGIN PASSWORD 'gestaoti';\r\nCrie o banco de dados: \r\n\r\n\tpostgres=# CREATE DATABASE gestaoti WITH TEMPLATE = template0 ENCODING = 'UTF8' LC_COLLATE = 'pt_BR.utf8' LC_CTYPE = 'pt_BR.utf8'; \r\n\tpostgres=# ALTER DATABASE gestaoti OWNER TO gestaoti;\r\n\tpostgres=# \\q\r\nExecute o arquivo <i>script_gestaoti.sql</i> que vem no cau. O diretório em que esse arquivo reside é o <i>install</i>. \r\n\r\n\t$ sudo -u postgres psql -d gestaoti -f /var/www/sisgestaoti/install/script_gestaoti.sql\r\n\r\n<b><i>Edite o arquivo de configuração e conceda permissões de escrita</i></b>\r\n\r\nO CAU armazena algumas configurações necessárias para a aplicação em um arquivo chamado <b>gestaoti_configs.inc.php</b> (em <i>/var/www/sisgestaoti/gestaoti/</i>), que possui uma sintaxe bem simples de entender. Caso tenha criado o banco de dados, nome de usuário ou senha com um valor diferente de <b>gestaoti</b>, basta editar esse arquivo para que corresponda as suas escolhas: \r\n\r\n\t$gestaoti_settings['db_postgres_host']='localhost'; \r\n\t$gestaoti_settings['db_postgres_port']='5432'; \r\n\t$gestaoti_settings['db_postgres_name']='gestaoti'; \r\n\t$gestaoti_settings['db_postgres_user']='gestaoti'; \r\n\t$gestaoti_settings['db_postgres_pass']='gestaoti'; \r\n\t$gestaoti_settings['db_postgres_enconding']='LATIN1';\r\n\r\nDepois, conceda permissões de escrita no diretório cau/anexos. Uma forma prática é dar permissão de escrita para o usuário dono do diretório e para usuários de um grupo. Nesse caso, mudaremos o grupo desses diretórios para o grupo do usuário Apache. \r\n\r\n\t# chmod -R 775 /var/www/sisgestaoti/cau/anexos\r\n\t# chown -R www-data.www-data /var/www/sisgestaoti/\r\n\r\n<b>Observação:</b> <i>www-data</i> é o nome do grupo Apache padrão em sistemas Debian. Em outros sistemas, esse nome pode ser <i>httpd</i>, apache ou <i>_www</i>. Substitua de acordo com o usado em seu sistema operacional. \r\n\r\n<b><i>Edite o arquivo de configuração da biblioteca JpGraph</i></b>\r\n\r\nConfigure o diretório onde estão instaladas as fontes. Edite o arquivo <b>jpg-config.inc.php</b> em <i>/var/www/sisgestaoti/gestaoti/include/PHP/class</i>. Por padrão o sistema CAU utiliza a fonte <i>arial.ttf</i> basta incluí-la no diretório abaixo (no caso para sistemas Debian). Esta fonte está incluída no pacote <i>ttf-mscorefonts-installer</i> da distribuição Debian Lenny.\r\n\t\r\n\tDEFINE(\"TTF_DIR\",\"/usr/X11R6/lib/X11/fonts/truetype/\");\r\n\t\r\n##4.4 - Configurando o PHP\r\n\r\nEdite o arquivo <b><i>php.ini</i></b> da seguinte forma: \r\n\r\n\tregister_globals: altere para On\r\n\tregister_globals = on\r\n\r\n\r\n\r\nPara instalações nos sistemas operacionais windows* os usuários reportaram  também a necessidade de alterar a direita <i>short_open_tag</i>, mudar de “Off” para:\r\n\tshort_open_tag = on\r\n\r\n<b>Observação:</b> a localização do arquivo <i>php.ini</i> é diferente entre os sistemas operacionais. No Debian/Ubuntu, o padrão é <i>/etc/php5/apache2/php.ini</i>. \r\nApós qualquer alteração no arquivo <i>php.ini</i>, reinicie seu servidor web: \r\n\t# /etc/init.d/apache2 restart\r\n\t\r\n##4.4 - Configuração do Servidor Web – (Passo Opcional)\r\n\r\nAgora criaremos um virtual host no servidor. Crie um novo arquivo em <i>/etc/apache2/sites-available/</i> chamado <i>sisgestaoti.local</i> com o seguinte conteúdo:\r\n\r\n\t<VirtualHost *:80>\r\n\t ServerName sisgestaoti.local\r\n\t DocumentRoot /var/www/sisgestaoti/\r\n\r\n\t <Directory /var/www/sisgestaoti>\r\n\t    AllowOverride all\r\n\t    Order deny,allow\r\n\t    Allow from all\r\n\t  </Directory>\r\n\t</VirtualHost>\r\n\t\r\nEdite o arquivo <i>/etc/hosts</i> (no Windows esse arquivo fica em <i>C:\\WINDOWS\\system32\\drivers\\etc\\hosts</i>) e adicione a seguinte linha: \r\n\r\n\t127.0.0.1      sisgestaoti.local\r\n\r\nHabilite o Virtual Host: \r\n\r\n\t# a2ensite sisgestaoti.local\r\n\r\nReinicie o servidor Apache: \r\n\r\n\t# /etc/init.d/apache2 restart\r\n\r\nPronto. Agora, acesse o endereço [http://sisgestaoti.local](http://ieducar.local/) em seu navegador. \r\n\r\n##5 - Acessando  a aplicação\r\nAbra o navegador de sua preferência e acesse o endereço  [http://localhost/sisgestaoti](http://localhost/ieducar) ou  [http://sisgestaoti.local](http://ieducar.local/) (caso tenha configurado um Virtual Host). Faça o login na aplicação utilizando o usuário administrador. O login e senha para acesso são <b>admin</b> e <b>admin</b>, respectivamente. \r\n\r\n\r\n<b>Link da Licença Júridica Creative Commons</b><br>\r\n<i>http://creativecommons.org/licenses/by-sa/2.5/br/legalcode</b>\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}